<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Using Julia · Laplacians.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">Laplacians.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">About</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../Installation/">Installation</a></li><li><a class="tocitem" href="../Examples/">Examples</a></li><li><a class="tocitem" href="../CSCgraph/">Sparse matrices as graphs</a></li><li><a class="tocitem" href="../usingSolvers/">Solving Linear Equations</a></li><li><a class="tocitem" href="../LSST/">Low Stretch Spanning Trees</a></li></ul></li><li><a class="tocitem" href="../Developing/">Developing</a></li><li><span class="tocitem">API</span><ul><li><a class="tocitem" href="../graphGenerators/">generators</a></li><li><a class="tocitem" href="../operators/">operators</a></li><li><a class="tocitem" href="../graphUtils/">graphUtils</a></li><li><a class="tocitem" href="../graphAlgs/">graphAlgs</a></li><li><a class="tocitem" href="../IO/">IO</a></li><li><a class="tocitem" href="../solvers/">solvers</a></li><li><a class="tocitem" href="../sparsification/">sparsification</a></li><li><a class="tocitem" href="../akpw/">akpw</a></li><li><a class="tocitem" href="../treeAlgs/">treeAlgs</a></li><li><a class="tocitem" href="../randTrees/">randTrees</a></li><li><a class="tocitem" href="../localClustering/">localClustering</a></li><li><a class="tocitem" href="../privateFuncs/">Private Functions</a></li><li><a class="tocitem" href="../indexOfAll/">All of the above</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Using Julia</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Using Julia</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/danspielman/Laplacians.jl/blob/master/docs/src/Julia.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Using-Julia-1"><a class="docs-heading-anchor" href="#Using-Julia-1">Using Julia</a><a class="docs-heading-anchor-permalink" href="#Using-Julia-1" title="Permalink"></a></h1><p>These are some things you might want to know about using Julia if it is new to you.  There are now many other resources that can explain Julia to you.  But, we keep this section here for reference.</p><h2 id="Docstrings-1"><a class="docs-heading-anchor" href="#Docstrings-1">Docstrings</a><a class="docs-heading-anchor-permalink" href="#Docstrings-1" title="Permalink"></a></h2><p>Julia 0.5 lets you take advantage of docstrings. For example, <code>?ringGraph</code> produces</p><pre><code class="language-none">The simple ring on n vertices</code></pre><p>When having a multiline comment, make sure that lines don&#39;t have starting and trailing spaces. This will mess up the indentation when calling &#39;?func_name&#39;.</p><h2 id="Julia-Notebooks-1"><a class="docs-heading-anchor" href="#Julia-Notebooks-1">Julia Notebooks</a><a class="docs-heading-anchor-permalink" href="#Julia-Notebooks-1" title="Permalink"></a></h2><p>To get the Julia notebooks working, I presently type <code>jupyter notebook</code>. I then select the kernel to be Julia-0.5.0. It seems important to run this command from a directory that contains all the directories that have notebooks that you will use.  In particular, I advise against &quot;uploading&quot; notebooks from other directories.  That has only given me trouble.</p><p>To turn a notebook into html, you type something like</p><pre><code class="language-none">jupyter nbconvert Laplacians.ipynb</code></pre><p>or</p><pre><code class="language-none">jupyter nbconvert --to markdown --stdout Sampler.ipynb &gt; SamplerNotebook.md</code></pre><h2 id="Workflows-1"><a class="docs-heading-anchor" href="#Workflows-1">Workflows</a><a class="docs-heading-anchor-permalink" href="#Workflows-1" title="Permalink"></a></h2><p>Julia has an IDE called Juno.  Both Dan and Serban have encountered some trouble with it: we have both found that it sometimes refuses to reload .jl code that we have written.  Please document workflows that you have found useful here:</p><h4 id="Dan&#39;s-current-workflow:-1"><a class="docs-heading-anchor" href="#Dan&#39;s-current-workflow:-1">Dan&#39;s current workflow:</a><a class="docs-heading-anchor-permalink" href="#Dan&#39;s-current-workflow:-1" title="Permalink"></a></h4><ul><li><p>I use emacs (which has a mode for Julia) and the notebooks.</p></li><li><p>I develop Julia code in a &quot;temporary&quot; file with a name like develX.jl.  While I am developing, this code is not included by the module to which it will eventually belong.</p></li><li><p>After modifying code, I reload it with <code>include(&quot;develX.jl&quot;)</code>.  This works fine for reloading methods.  It is not a good way to reload modules or types.  So, I usually put the types either in a separate file, or in my julia notebook.</p></li><li><p>I am writing this documention in MacDown.</p></li></ul><h4 id="Add-your-current-workflow-here:-1"><a class="docs-heading-anchor" href="#Add-your-current-workflow-here:-1">Add your current workflow here:</a><a class="docs-heading-anchor-permalink" href="#Add-your-current-workflow-here:-1" title="Permalink"></a></h4><h2 id="Things-to-be-careful-of-(common-bugs)-1"><a class="docs-heading-anchor" href="#Things-to-be-careful-of-(common-bugs)-1">Things to be careful of (common bugs)</a><a class="docs-heading-anchor-permalink" href="#Things-to-be-careful-of-(common-bugs)-1" title="Permalink"></a></h2><ul><li><p>Julia passes vectors and matrices to routines by reference, rather than by copying them.  If you type <code>x = y</code> when x and y are arrays, then this will make x a pointer to y.  If you want x to be a copy of y, type <code>x = copy(y)</code>.  This can really mess up matlab programmers.  I wrote many functions that were modifying their arguments without realizing it.</p></li><li><p>On the other hand, if you type <code>x = x + y</code>, then x becomes a newly allocated vector and no longer refers to the original.  This is true even if you type <code>x += y</code>.  Here is an example that shows two of the possible behaviors, and the difference between what happens inside functions.</p></li></ul><pre><code class="language-julia">
&quot;Adds b in to a&quot;
function addA2B(a,b)
    for i in 1:length(a)
        a[i] += b[i]
    end
end

&quot;Fails to add b in to a&quot;
function addA2Bfail(a,b)
	a += b
end

a = [1 0]
b = [2 2]
addA2B(a,b)
a

1x2 Array{Int64,2}:
 3  2

a = [1 0]
b = [2 2]
addA2Bfail(a,b)
a

1x2 Array{Int64,2}:
 1  0

a += b
a

1x2 Array{Int64,2}:
 3  2
</code></pre><ul><li><p>If you are used to programming in Matlab, you might be tempted to type a line like <code>for i in 1:10,</code>.  <em>Do not put extra commas in Julia!</em>  It will cause bad things to happen.</p></li><li><p>To get a vector with entries 1 through n, type <code>collect(1:n)</code>.  The object <code>1:n</code> is a range, rather than a vector.</p></li><li><p>Julia sparse matrix entries dissapear if they are set to 0. In order to overcome this, use the <code>setValue</code> function. <code>setValue(G, u, i, 0)</code> will set <code>weighti(G, u, i)</code> to 0 while also leaving <code>(u, nbri(G, u, i))</code> in the matrix.  <em>Note This problem may have been fixed with Julia version 0.5.</em></p></li></ul><h2 id="Useful-Julia-functions-1"><a class="docs-heading-anchor" href="#Useful-Julia-functions-1">Useful Julia functions</a><a class="docs-heading-anchor-permalink" href="#Useful-Julia-functions-1" title="Permalink"></a></h2><p>I am going to make a short list of Julia functions/features that I find useful.  Please add those that you use often as well.</p><ul><li><p>docstrings: in the above example, I used a docstring to document each function.  You can get these by typing <code>?addA2B</code>.  You can also  <a href="http://julia.readthedocs.org/en/latest/manual/documentation/">write longer docstrings and use markdown</a>.  I suggest putting them in front of every function.</p></li><li><p><code>methods(foo)</code> lists all methods with the name foo.</p></li><li><p><code>fieldnames(footype)</code> tells you all the fields of footype.  Note that this is 0.4.  In 0.3.11, you type <code>names(footype)</code></p></li></ul><pre><code class="language-julia">julia&gt; a = sparse(rand(3,3));
julia&gt; fieldnames(a)
5-element Array{Symbol,1}:
 :m
 :n
 :colptr
 :rowval
 :nzval</code></pre><h2 id="Optimizing-code-in-Julia-1"><a class="docs-heading-anchor" href="#Optimizing-code-in-Julia-1">Optimizing code in Julia</a><a class="docs-heading-anchor-permalink" href="#Optimizing-code-in-Julia-1" title="Permalink"></a></h2><p>The best way that I&#39;ve found of figuring out what&#39;s slowing down my code has been to use <code>@code_warntype</code>.  </p><p>Note that the first time you run a piece of code in Julia, it gets compiled.  So, you should run it on a small example before trying to time it.  Then, use <code>@time</code> to time your code.</p><p>I recommend reading the Performance Tips in the Julia documentation, not that I&#39;ve understood all of it yet.</p><h2 id="How-should-notebooks-play-with-Git?-1"><a class="docs-heading-anchor" href="#How-should-notebooks-play-with-Git?-1">How should notebooks play with Git?</a><a class="docs-heading-anchor-permalink" href="#How-should-notebooks-play-with-Git?-1" title="Permalink"></a></h2><p>The great thing about the notebooks is that they contain live code, so that you can play with them.  But, sometimes you get a version that serves as great documentation, and you don&#39;t want to klobber it my mistake later (or evern worse, have someone else klobber it).  Presumably if someone accidently commits a messed up version we can unwind that.  But, is there a good way to keep track of this?</p></article></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Wednesday 1 June 2022 13:59">Wednesday 1 June 2022</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
